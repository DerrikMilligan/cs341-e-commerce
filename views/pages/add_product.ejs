<%- include('../partials/header.ejs') %>

<% if (locals.success !== undefined) { %>
  <%- include('../components/toast.ejs', {
    success: success,
    title: (success === true ? 'Success' : 'Error'),
    message: message,
  }) %>
<% } %>

<div class="container">
  <div class="card bg-light">
    <div class="card-header">Add New Product</div>
    <div class="card-body">
      <h5 class="card-title">Product Information</h5>
      <p class="card-text">
        <form method="POST" action="/products/addProduct">
          <div class="mb-3">
            <label for="product_name" class="form-label">Name: *</label>
            <input
              name="product_name"
              id="product_name"
              class="form-control"
              type="text"
              placeholder="Item Name"
              value="<%= (locals.previousData !== undefined && previousData.product_name !== undefined ? previousData.product_name.trim() : '') %>"
            />
          </div>
          <div class="mb-3">
            <label for="product_description" class="form-label">Description: *</label>
            <textarea
              name="product_description"
              id="product_description"
              class="form-control"
              rows="3"
              placeholder="Sweet product description"
            ><%= (locals.previousData !== undefined && previousData.product_description !== undefined ? previousData.product_description.trim() : '') %></textarea>
          </div>
          <div class="mb-3">
            <label for="product_price" class="form-label">Price: *</label>
            <div class="input-group">
              <span class="input-group-text">$</span>
              <input
                name="product_price"
                id="product_price"
                class="form-control"
                type="number"
                placeholder="100"
                value="<%= (locals.previousData !== undefined && previousData.product_price !== undefined ? previousData.product_price.trim() : '') %>"
              />
            </div>
          </div>
          <div class="mb-3">
            <label for="product_image_url" class="form-label">Image</label>
            <input
              name="product_image_url"
              id="product_image_url"
              class="form-control"
              type="text"
              placeholder="http://example.com/image.png"
              value="<%= (locals.previousData !== undefined && previousData.product_image_url !== undefined ? previousData.product_image_url.trim() : '') %>"
            />
          </div>

          <button type="submit" class="btn btn-success">Submit Product</button>
        </form>
      </p>
    </div>
  </div>
</div>

<%- include('../partials/footer.ejs') %>
